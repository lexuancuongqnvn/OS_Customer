#pragma checksum "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "8d327adcd94cd1e263b3ecca4169ae5a156842b8cf7923e779ef7d4b2c0ba157"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_FaceRecognition_CheckInOutRecognition), @"mvc.1.0.view", @"/Views/FaceRecognition/CheckInOutRecognition.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/FaceRecognition/CheckInOutRecognition.cshtml", typeof(AspNetCore.Views_FaceRecognition_CheckInOutRecognition))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\_ViewImports.cshtml"
using ERP.Web;

#line default
#line hidden
#line 2 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\_ViewImports.cshtml"
using ERP.Web.Models;

#line default
#line hidden
#line 35 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
using HRMS.Intfs.Employee.Dto;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA256", @"8d327adcd94cd1e263b3ecca4169ae5a156842b8cf7923e779ef7d4b2c0ba157", @"/Views/FaceRecognition/CheckInOutRecognition.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA256", @"11db9085ebf30904a9077b39e356a422742977d3ab5c07be1ed661e106f03aba", @"/Views/_ViewImports.cshtml")]
    public class Views_FaceRecognition_CheckInOutRecognition : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(130, 17, true);
            WriteLiteral("<!DOCTYPE html>\r\n");
            EndContext();
#line 36 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
  
    HRM_Employee_Check_In_Out_ENTITY input = ViewBag.Customers;

#line default
#line hidden
            BeginContext(997, 27, true);
            WriteLiteral("<!DOCTYPE html>\r\n<html>\r\n\r\n");
            EndContext();
            BeginContext(1024, 650, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "8d327adcd94cd1e263b3ecca4169ae5a156842b8cf7923e779ef7d4b2c0ba1574164", async() => {
                BeginContext(1030, 424, true);
                WriteLiteral(@"

    <script type=""text/javascript"" src=""/js/jquery-2.1.1.min.js""></script>
    <script src=""/js/materialize.min.js""></script>
    <script src=""/js/face-api/face-api.js""></script>
    <script src=""/js/face-api/commons.js""></script>
    <script src=""/js/script.js""></script>
    <script src=""/js/face-api/bbt.js""></script>
    <link rel=""stylesheet"" href=""/css/face-api/styles.css"">
    <script>
        let dif = ");
                EndContext();
                BeginContext(1455, 11, false);
#line 52 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
             Write(ViewBag.dif);

#line default
#line hidden
                EndContext();
                BeginContext(1466, 25, true);
                WriteLiteral("/100;\r\n        let age = ");
                EndContext();
                BeginContext(1492, 11, false);
#line 53 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
             Write(ViewBag.age);

#line default
#line hidden
                EndContext();
                BeginContext(1503, 22, true);
                WriteLiteral(";\r\n        let age1 = ");
                EndContext();
                BeginContext(1526, 11, false);
#line 54 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
              Write(ViewBag.age);

#line default
#line hidden
                EndContext();
                BeginContext(1537, 26, true);
                WriteLiteral(" - 1;\r\n        let age2 = ");
                EndContext();
                BeginContext(1564, 11, false);
#line 55 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
              Write(ViewBag.age);

#line default
#line hidden
                EndContext();
                BeginContext(1575, 29, true);
                WriteLiteral(" + 1;\r\n        let gender = \'");
                EndContext();
                BeginContext(1605, 14, false);
#line 56 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
                 Write(ViewBag.gender);

#line default
#line hidden
                EndContext();
                BeginContext(1619, 48, true);
                WriteLiteral("\';\r\n    </script>\r\n    <script>\r\n    </script>\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(1674, 4, true);
            WriteLiteral("\r\n\r\n");
            EndContext();
            BeginContext(1678, 19274, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "8d327adcd94cd1e263b3ecca4169ae5a156842b8cf7923e779ef7d4b2c0ba1577831", async() => {
                BeginContext(1684, 304, true);
                WriteLiteral(@"
    <div id=""navbar""></div>
    <div class=""center-content page-container"">
        <div>
            <div class=""progress"" id=""loader"">
                <div class=""indeterminate""></div>
            </div>
            <div class=""row side-by-side"">
                <div class=""center-content"">
");
                EndContext();
#line 71 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
                      
                        if (input.hRM_Employee_Check_In_Out_Image_Trainings != null && ViewBag.setting == 0)
                        {

#line default
#line hidden
                BeginContext(2149, 143, true);
                WriteLiteral("                                                                                            <img id=\"face-left\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 2292, "\"", 2358, 1);
#line 74 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 2298, input.hRM_Employee_Check_In_Out_Image_Trainings.left_base64, 2298, 60, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(2359, 164, true);
                WriteLiteral(" class=\"margin\" />\r\n                                                                                            <img id=\"face-right\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 2523, "\"", 2590, 1);
#line 75 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 2529, input.hRM_Employee_Check_In_Out_Image_Trainings.right_base64, 2529, 61, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(2591, 165, true);
                WriteLiteral(" class=\"margin\" />\r\n                                                                                            <img id=\"face-bottom\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 2756, "\"", 2824, 1);
#line 76 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 2762, input.hRM_Employee_Check_In_Out_Image_Trainings.bottom_base64, 2762, 62, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(2825, 162, true);
                WriteLiteral(" class=\"margin\" />\r\n                                                                                            <img id=\"face-top\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 2987, "\"", 3052, 1);
#line 77 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 2993, input.hRM_Employee_Check_In_Out_Image_Trainings.top_base64, 2993, 59, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(3053, 161, true);
                WriteLiteral(" class=\"margin\" />\r\n                                                                                            <img id=\"my-face\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 3214, "\"", 3279, 1);
#line 78 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 3220, input.hRM_Employee_Check_In_Out_Image_Trainings.top_base64, 3220, 59, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(3280, 20, true);
                WriteLiteral(" class=\"margin\" />\r\n");
                EndContext();
#line 79 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
                        }
                        if (input.hRM_Employee_Check_In_Out_Image_Trainings != null && ViewBag.setting == 1)
                        {

#line default
#line hidden
                BeginContext(3464, 143, true);
                WriteLiteral("                                                                                            <img id=\"face-left\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 3607, "\"", 3673, 1);
#line 82 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 3613, input.hRM_Employee_Check_In_Out_Image_Trainings.left_base64, 3613, 60, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(3674, 164, true);
                WriteLiteral(" class=\"margin\" />\r\n                                                                                            <img id=\"face-right\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 3838, "\"", 3905, 1);
#line 83 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 3844, input.hRM_Employee_Check_In_Out_Image_Trainings.right_base64, 3844, 61, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(3906, 165, true);
                WriteLiteral(" class=\"margin\" />\r\n                                                                                            <img id=\"face-bottom\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 4071, "\"", 4139, 1);
#line 84 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 4077, input.hRM_Employee_Check_In_Out_Image_Trainings.bottom_base64, 4077, 62, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(4140, 162, true);
                WriteLiteral(" class=\"margin\" />\r\n                                                                                            <img id=\"face-top\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 4302, "\"", 4367, 1);
#line 85 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 4308, input.hRM_Employee_Check_In_Out_Image_Trainings.top_base64, 4308, 59, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(4368, 184, true);
                WriteLiteral(" class=\"margin\" />\r\n                                                                                                                   <img id=\"my-face\" style=\"width:200px;height:auto\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 4552, "\"", 4617, 1);
#line 86 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
WriteAttributeValue("", 4558, input.hRM_Employee_Check_In_Out_Image_Trainings.top_base64, 4558, 59, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(4618, 20, true);
                WriteLiteral(" class=\"margin\" />\r\n");
                EndContext();
#line 87 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"

                                            }
                    

#line default
#line hidden
                BeginContext(4710, 37, true);
                WriteLiteral("\r\n                    <img id=\"face1\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 4747, "\"", 4753, 0);
                EndWriteAttribute();
                BeginContext(4754, 125, true);
                WriteLiteral(" class=\"margin\" />\r\n                </div>\r\n                <div class=\"center-content\">\r\n                    <img id=\"face2\"");
                EndContext();
                BeginWriteAttribute("src", " src=\"", 4879, "\"", 4885, 0);
                EndWriteAttribute();
                BeginContext(4886, 442, true);
                WriteLiteral(@" class=""margin"" />
                    <div id=""selectList2""></div>
                </div>
            </div>
            <div class=""row"">
                <label for=""distance"">Distance:</label>
                <input disabled value=""-"" id=""distance"" type=""text"" class=""bold value-distance"" style=""width: 550px;"">
            </div>

        </div>
    </div>

    <script>
        const threshold = 0.6;
        var setting = ");
                EndContext();
                BeginContext(5329, 15, false);
#line 108 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
                 Write(ViewBag.setting);

#line default
#line hidden
                EndContext();
                BeginContext(5344, 9248, true);
                WriteLiteral(@";
        let descriptors = {
            desc1: null,
            desc2: null,
            desc3: null,
            desc4: null,
            desc5: null
        }

        async function updateResult() {
            try {
                if (setting == 1) await runTraining();
                else {

                    const optionsSSD = getFaceDetectorOptions()
                    var check_obj = {}
        
                    const results = await faceapi.detectAllFaces(document.getElementById('my-face'), optionsSSD)
                        .withFaceLandmarks()
                        .withAgeAndGender(); 
                    var _age, _gender, _genderProbability;

                    const resizedResults = faceapi.resizeResults(results, document.getElementById('my-face'));
                   
                    resizedResults.forEach(result => {
                        const { age, gender, genderProbability } = result;
                        _age = age ? age : 0;
            ");
                WriteLiteral(@"            _gender = gender ? gender : gender;
                        _genderProbability = genderProbability ? genderProbability : genderProbability;
                    })
                    let  input = $('#my-face')[0];
                    descriptors.desc1 = await faceapi.computeFaceDescriptor(input);

                    descriptors.desc2 = await faceapi.computeFaceDescriptor($('#face-left')[0]);
             
                    let distance = faceapi.utils.round(
                        faceapi.euclideanDistance(descriptors.desc1, descriptors.desc2)
                    )
                    
                    if (distance <= dif && (_age >= age1 || _age <= age2 || age == 0) && (_gender == gender || gender == '')) {
                        postMessageWebView({
                            status: 0,
                            message: 'OK',
                            employee_code: """",
                            distance: distance,
                            age:_age,
        ");
                WriteLiteral(@"                    gender_probability: _genderProbability,
                            gender: _gender
                        });
                        return {
                            status: 0,
                            message: 'OK',
                            employee_code: """",
                            distance: distance,
                            age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        };
                    } else {
                        check_obj = {
                            status: 2,
                            message: 'Failed desc2',
                            employee_code: """",
                            distance: distance,
                             age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        };
                    }
                           d");
                WriteLiteral(@"escriptors.desc3 = await faceapi.computeFaceDescriptor($('#face-right')[0]);
                  
                    distance = faceapi.utils.round(
                        faceapi.euclideanDistance(descriptors.desc1, descriptors.desc3)
                    )
                    if (distance <= dif && (_age >= age1 || _age <= age2 || age == 0) && (_gender == gender || gender == '')) {
                        postMessageWebView({
                            status: 0,
                            message: 'OK',
                            employee_code: """",
                            distance: distance,
                              age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        });
                        return {
                            status: 0,
                            message: 'OK',
                            employee_code: """",
                            distance: distance,
      ");
                WriteLiteral(@"                        age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        };
                    } else {
                        check_obj = {
                            status: 2,
                            message: 'Failed desc3',
                            employee_code: """",
                            distance: distance,
                             age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        };
                    }
                      descriptors.desc4 = await faceapi.computeFaceDescriptor($('#face-top')[0]);
                    distance = faceapi.utils.round(
                        faceapi.euclideanDistance(descriptors.desc1, descriptors.desc4)
                    )
                    if (distance <= dif && (_age >= age1 || _age <= age2 || age == 0) && (_gender == gender || gender ");
                WriteLiteral(@"== '')) {
                        postMessageWebView({
                            status: 0,
                            message: 'OK',
                            employee_code: """",
                            distance: distance,
                             age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        });
                        return {
                            status: 0,
                            message: 'OK',
                            employee_code: """",
                            distance: distance,
                             age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        };
                    }
                    else {
                        check_obj = {
                            status: 2,
                            message: 'Failed desc4',
                      ");
                WriteLiteral(@"      employee_code: """",
                            distance: distance,
                              age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        };
                    }
                    descriptors.desc5 = await faceapi.computeFaceDescriptor($('#face-bottom')[0]);

                    distance = faceapi.utils.round(
                        faceapi.euclideanDistance(descriptors.desc1, descriptors.desc5)
                    )
                    if (distance <= dif && (_age >= age1 || _age <= age2 || age == 0) && (_gender == gender || gender == '')) {
                        postMessageWebView({
                            status: 0,
                            message: 'OK',
                            employee_code: """",
                            distance: distance,
                              age:_age,
                            gender_probability: _genderProbability,
          ");
                WriteLiteral(@"                  gender: _gender
                        });
                        return {
                            status: 0,
                            message: 'OK',
                            employee_code: """",
                            distance: distance,
                              age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        };
                    } else {
                        check_obj = {
                            status: 4,
                            message: 'Failed desc5',
                            employee_code: """",
                            distance: distance,
                             age:_age,
                            gender_probability: _genderProbability,
                            gender: _gender
                        };
                    } 
                     postMessageWebView(check_obj);
                }
            } catch (err");
                WriteLiteral(@") {
                return {status:-1,message:'Loi check face:'+err.message,error:JSON.stringify(err)};
            }
        }

        async function onSelectionChanged(which) {
            descriptors.desc2 = await faceapi.computeFaceDescriptor($('#face-left')[0]);
            descriptors.desc3 = await faceapi.computeFaceDescriptor($('#face-right')[0]);
            descriptors.desc4 = await faceapi.computeFaceDescriptor($('#face-top')[0]);
            descriptors.desc5 = await faceapi.computeFaceDescriptor($('#face-bottom')[0]);
            //updateResult();
        }
        async function test() {
            return ""ok""
        }
        async function run() {
            await runSetting();
            await faceapi.loadFaceRecognitionModel();
            $('#loader').hide();
     
            await updateResult();
        }
        async function runTraining() {
            $('#loader').hide();
            const optionsSSD = getFaceDetectorOptions();
            let param = {");
                WriteLiteral("\n                employee_code:\'");
                EndContext();
                BeginContext(14593, 19, false);
#line 310 "D:\SourceCode\ERP\RELEASE\core\ERP.Web\ERP.Web\Views\FaceRecognition\CheckInOutRecognition.cshtml"
                          Write(input.employee_code);

#line default
#line hidden
                EndContext();
                BeginContext(14612, 6333, true);
                WriteLiteral(@"'
            };
            //=====================left
            let results = await faceapi.detectAllFaces(document.getElementById('face-left'), optionsSSD).withFaceLandmarks().withAgeAndGender()

            let resizedResults = faceapi.resizeResults(results, document.getElementById('face-left'));
            var _age, _gender, _genderProbability;
            resizedResults.forEach(result => {
                const { age, gender, genderProbability } = result;
                _age = age ? age : 0;
                _gender = gender ? gender : gender;
                _genderProbability = genderProbability ? genderProbability : genderProbability;
            })
            if (!_age || !_gender || !_genderProbability) {
                postMessageWebView({
                    status: -1,
                    message: 'Failed image left'
                });
                return;
            } else {
                param['img_left_age'] = _age;
                param['img_left_gender'] = ");
                WriteLiteral(@"_gender;
                param['img_left_gender_probability'] = _genderProbability;
            }
            //=====================right
            results = await faceapi.detectAllFaces(document.getElementById('face-right'), optionsSSD)
                .withFaceLandmarks()
                .withAgeAndGender()
            resizedResults = faceapi.resizeResults(results, document.getElementById('face-right'));
            resizedResults.forEach(result => {
                const { age, gender, genderProbability } = result;
                _age = age ? age : 0;
                _gender = gender ? gender : gender;
                _genderProbability = genderProbability ? genderProbability : genderProbability;
            })
            if (!_age || !_gender || !_genderProbability) {
                postMessageWebView({
                    status: -1,
                    message: 'Failed image right'
                });
                return;
            } else {
                param['img_rig");
                WriteLiteral(@"ht_age'] = _age;
                param['img_right_gender'] = _gender;
                param['img_right_gender_probability'] = _genderProbability;
            }
            //=====================bottom
            results = await faceapi.detectAllFaces(document.getElementById('face-bottom'), optionsSSD)
                .withFaceLandmarks()
                .withAgeAndGender()
            resizedResults = faceapi.resizeResults(results, document.getElementById('face-bottom'));
            resizedResults.forEach(result => {
                const { age, gender, genderProbability } = result;
                _age = age ? age : 0;
                _gender = gender ? gender : gender;
                _genderProbability = genderProbability ? genderProbability : genderProbability;
            })
            if (!_age || !_gender || !_genderProbability) {
                postMessageWebView({
                    status: -1,
                    message: 'Failed image bottom'
                });
          ");
                WriteLiteral(@"      return;
            } else {
                param['img_bottom_age'] = _age;
                param['img_bottom_gender'] = _gender;
                param['img_bottom_gender_probability'] = _genderProbability;
            }
            //=====================top
            results = await faceapi.detectAllFaces(document.getElementById('face-top'), optionsSSD)
                .withFaceLandmarks()
                .withAgeAndGender()
            resizedResults = faceapi.resizeResults(results, document.getElementById('face-top'));
            resizedResults.forEach(result => {
                const { age, gender, genderProbability } = result;
                _age = age ? age : 0;
                _gender = gender ? gender : gender;
                _genderProbability = genderProbability ? genderProbability : genderProbability;
            })
            if (!_age || !_gender || !_genderProbability) {
                postMessageWebView({
                    status: -1,
                    me");
                WriteLiteral(@"ssage: 'Failed image top'
                });
                return;
            } else {
                param['img_top_age'] = _age;
                param['img_top_gender'] = _gender;
                param['img_top_gender_probability'] = _genderProbability;
            }
            $.ajax({
              url: '/FaceRecognition/HRM_Employee_Check_In_Out_Face_Training_Update',
              type: 'POST',
              dataType: 'json',
              data: JSON.stringify(param),
              contentType: 'application/json',
              success: function(response) {
                  postMessageWebView({
                        status: response.status,
                        message: response.message,
                        employee_code: """",
                        distance: distance,
                        age: 0,
                        gender_probability: 0,
                        gender: """"
                    });
              },
              error: function(xhr, status,");
                WriteLiteral(@" error) {
                // Handle the error
              }
            });

            console.log(param)
        }
        function getBase64CheckInTemp(employee_code) {
            $.ajax({
              url: '/FaceRecognition/GetBase64CheckInTemp?employee_code='+employee_code,
              type: 'POST',
              contentType: 'application/json',
              success: function(response) {
                 console.log(response)
                 $('#my-face').attr('src', response);

              },
              error: function(xhr, status, error) {
                // Handle the error
              }
            });
        }
        function postMessageWebView(obj) {
            console.log(obj)

            $('body').html(JSON.stringify(obj))
            //$('.value-distance').val(JSON.stringify(obj)).change()
            //try {
            //    window.ReactNativeWebView.postMessage(JSON.stringify(obj));
            //} catch { }
        }
    </script>
     <scr");
                WriteLiteral("ipt>\r\n                                $(document).ready(function() {\r\n                                    run();\r\n                                })\r\n                            </script>\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(20952, 11, true);
            WriteLiteral("\r\n\r\n</html>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
